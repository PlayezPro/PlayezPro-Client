<!-- FONT -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Saira+Semi+Condensed:300,400,700" />


<!-- ## fut-player-card ## -->
<div *ngFor="let detail of userDetail" class="card-container">
  <div class="fut-player-card">
    <div class="player-card-top">
      <div class="player-master-info">
        <div class="player-rating">
          <span>97</span>
        </div>
        <div class="player-position">
          <span>RW</span>
        </div>
        <div class="player-nation">
          <img *ngIf="detail.userDetails?.nationality" [src]="getCountryFlag(detail.userDetails.nationality)" class="selected-flag" alt="flag" draggable="false" />
        </div>
        <div class="player-club">
          <span class="player-position">#{{detail.userDetails?.dorsal}}</span>
        </div>
      </div>
      <div class="player-picture">
        <img [src]="detail.userDetails?.photo || defaultImage" alt="Pedro" draggable="false" (error)="handleImageError(detail)" />
        <div class="player-extra">
          <span>{{detail.userDetails?.currentTeam}}</span>
        </div>
      </div>
    </div>
    <div class="player-card-bottom">
      <div class="player-info">
        <div class="player-name">
          <p>{{detail.name}}</p>
        </div>
        <div class="player-features">
          <div class="player-features-col">
            <span>
              <div class="player-feature-value">{{detail.userSkills?.[0]?.pace}}</div>
              <div class="player-feature-title">PACE</div>
            </span>
            <span>
              <div class="player-feature-value">{{detail.userSkills?.[0]?.shot}}</div>
              <div class="player-feature-title">SHO</div>
            </span>
            <span>
              <div class="player-feature-value">{{detail.userSkills?.[0]?.pas}}</div>
              <div class="player-feature-title">PAS</div>
            </span>
          </div>
          <div class="player-features-col">
            <span>
              <div class="player-feature-value">{{detail.userSkills?.[0]?.dribble}}</div>
              <div class="player-feature-title">DRI</div>
            </span>
            <span>
              <div class="player-feature-value">{{detail.userSkills?.[0]?.defense}}</div>
              <div class="player-feature-title">DEF</div>
            </span>
            <span>
              <div class="player-feature-value">{{detail.userSkills?.[0]?.physical}}</div>
              <div class="player-feature-title">PHY</div>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- <div class="flex items-center gap-4">
    <label for="file-upload" class="flex items-center text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600">
      <svg class="w-6 h-6 fill-current mr-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M10 8h4v8h-4z" />
        <path d="M17 13h-2v-2h2v2zm-4 0h-2v-2h2v2zm0-4h-2v-2h2v2zm4 0h-2v-2h2v2zm-8-9h-4c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h2v-1c0-1.1-.9-2-2-2zm0 18h-4v-14h4v14zm6-8h-2v-2h2v2zm0-4h-2v-2h2v2z"/>
      </svg>
      <input type="file" id="file-upload" class="hidden" (change)="onFileSelected($event)" />
    </label>
    <button class="bg-green-500 text-white  p-2 rounded hover:bg-green-600 focus:outline-none" (click)="uploadImage()">update Image</button>
  </div> -->
  <div *ngIf="isGeneratedCard">
    <ion-button  id="popover-button">Open Menu</ion-button>
    <ion-popover trigger="popover-button" [dismissOnSelect]="true">
      <ng-template>
        <ion-content>
          <ion-list>
            <ion-item >
              <label for="file-upload" class="flex items-center text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600">
                <!-- <svg class="w-6 h-6 fill-current mr-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path d="M10 8h4v8h-4z" />
                  <path d="M17 13h-2v-2h2v2zm-4 0h-2v-2h2v2zm0-4h-2v-2h2v2zm4 0h-2v-2h2v2zm-8-9h-4c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h2v-1c0-1.1-.9-2-2-2zm0 18h-4v-14h4v14zm6-8h-2v-2h2v2zm0-4h-2v-2h2v2z"/>
                </svg> -->Seleccionar Imagen
                <input type="file" id="file-upload" class="hidden" (change)="onFileSelected($event)" />
              </label>
            </ion-item>
            <ion-item >
            <button class="bg-green-500 text-white  p-2 rounded hover:bg-green-600 focus:outline-none" (click)="uploadImage()">Aceptar</button>
            </ion-item>
            <!-- <ion-item [button]="true" [detail]="false">Option 2</ion-item> -->
            <!-- <ion-item [button]="true" id="nested-trigger">More options...</ion-item> -->

            <ion-popover trigger="nested-trigger" [dismissOnSelect]="true" side="end">
              <ng-template>
                <ion-content>
                  <ion-list>
                    <ion-item [button]="true" [detail]="false">Nested option</ion-item>
                  </ion-list>
                </ion-content>
              </ng-template>
            </ion-popover>
          </ion-list>
        </ion-content>
      </ng-template>
    </ion-popover>
  </div>  
  <div>
    <app-button-playez *ngIf="detail.hasRelation === false" expand="full" (click)="createRelation(detail._id)" [buttonText]="' Seguir'"></app-button-playez>
    <ion-button *ngIf="detail.hasRelation === true" expand="full">
      Siguiendo
    </ion-button>
  </div>
  
  <!-- <div class="flex justify-center items-center h-[240px] mt-16">
    <table class="custom-bg border-collapse border border-gray-800">
      <tr>
        <td class="border border-gray-800 p-4">Fecha de nacimiento</td>
        <td class="border border-gray-800 p-4 text-center">{{detail.userDetails?.birthYear}}</td>
      </tr>
      <tr>
        <td class="border border-gray-800 p-4">Nacionalidad</td>
        <td class="border border-gray-800 p-4 text-center" >{{ detail.userDetails?.nationality }}</td>
      </tr>
      <tr>
        <td class="border border-gray-800 p-4">Equipo</td>
        <td class="border border-gray-800 p-4 text-center">{{detail.userDetails?.currentTeam}}</td>
      </tr>
      <tr>
        <td class="border border-gray-800 p-4">Posici√≥n</td>
        <td class="border border-gray-800 p-4 text-center">{{ detail.userDetails?.favPosition }}</td>
      </tr>
      <tr>
        <td class="border border-gray-800 p-4">Altura</td>
        <td class="border border-gray-800 p-4 text-center">{{ detail.userDetails?.height }}</td>
      </tr>
      <tr>
        <td class="border border-gray-800 p-4">Peso</td>
        <td class="border border-gray-800 p-4 text-center">{{ detail.userDetails?.weight }}</td>
      </tr>
      <tr>
        <td class="border border-gray-800 p-4">Pierna</td>
        <td class="border border-gray-800 p-4 text-center">{{ detail.userDetails?.mainFoot }}</td>
      </tr>
    </table>
  </div> -->
  
  
</div>
